@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Theme Variables ── */
:root,
html.dark {
  --bg-start: 10, 10, 20;
  --bg-end: 15, 15, 30;
  --foreground: 255, 255, 255;
  --foreground-muted: 255, 255, 255;
  --card-bg: rgba(255, 255, 255, 0.06);
  --card-border: rgba(255, 255, 255, 0.08);
  --nav-bg: rgba(15, 15, 25, 0.75);
  --nav-border: rgba(255, 255, 255, 0.06);
  --scrollbar-thumb: rgba(255, 255, 255, 0.1);
  --scrollbar-hover: rgba(255, 255, 255, 0.2);
  --active-bg: rgba(255, 255, 255, 0.15);
  --active-border: rgba(255, 255, 255, 0.1);
  --hover-bg: rgba(255, 255, 255, 0.05);
  color-scheme: dark;
}

html.light {
  --bg-start: 245, 245, 250;
  --bg-end: 235, 238, 245;
  --foreground: 15, 15, 25;
  --foreground-muted: 60, 60, 80;
  --card-bg: rgba(255, 255, 255, 0.7);
  --card-border: rgba(0, 0, 0, 0.08);
  --nav-bg: rgba(255, 255, 255, 0.8);
  --nav-border: rgba(0, 0, 0, 0.06);
  --scrollbar-thumb: rgba(0, 0, 0, 0.15);
  --scrollbar-hover: rgba(0, 0, 0, 0.25);
  --active-bg: rgba(99, 102, 241, 0.12);
  --active-border: rgba(99, 102, 241, 0.2);
  --hover-bg: rgba(0, 0, 0, 0.04);
  color-scheme: light;
}

/* ── Base Styles ── */
body {
  background: linear-gradient(135deg, rgb(var(--bg-start)), rgb(var(--bg-end)));
  min-height: 100vh;
  color: rgb(var(--foreground));
  transition: background 0.3s ease, color 0.3s ease;
}

/* ── Utility Classes ── */
@layer utilities {
  .bg-body {
    background: linear-gradient(135deg, rgb(var(--bg-start)), rgb(var(--bg-end)));
  }
  .text-body {
    color: rgb(var(--foreground));
  }
  .text-foreground {
    color: rgb(var(--foreground));
  }
  .text-muted {
    color: rgba(var(--foreground-muted), 0.5);
  }
}

/* ── Glass Morphism - Cards ── */
.glass-card {
  background: var(--card-bg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-radius: 16px;
  border: 1px solid var(--card-border);
  transition: background 0.3s ease, border-color 0.3s ease;
}

/* Light mode card shadow */
html.light .glass-card {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.03);
}

/* ── Glass Morphism - Navigation ── */
.glass-nav {
  background: var(--nav-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-right: 1px solid var(--nav-border);
  transition: background 0.3s ease, border-color 0.3s ease;
}

@media (max-width: 1023px) {
  .glass-nav {
    border-right: none;
    border-bottom: 1px solid var(--nav-border);
  }
}

/* Light mode nav shadow */
html.light .glass-nav {
  box-shadow: 1px 0 8px rgba(0, 0, 0, 0.04);
}

@media (max-width: 1023px) {
  html.light .glass-nav {
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.04);
  }
}

/* ── Scrollbar ── */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-hover);
}

/* ── Light Mode Overrides ── */

/* Text opacity adjustments for light mode */
html.light .text-white {
  color: rgb(var(--foreground));
}

html.light .text-white\/80 {
  color: rgba(var(--foreground), 0.8);
}

html.light .text-white\/60 {
  color: rgba(var(--foreground), 0.6);
}

html.light .text-white\/50 {
  color: rgba(var(--foreground), 0.5);
}

html.light .text-white\/40 {
  color: rgba(var(--foreground), 0.4);
}

html.light .text-white\/30 {
  color: rgba(var(--foreground), 0.3);
}

/* Light mode hover states */
html.light .hover\:bg-white\/10:hover {
  background: var(--hover-bg);
}

html.light .hover\:bg-white\/5:hover {
  background: rgba(0, 0, 0, 0.03);
}

/* Light mode active nav state */
html.light .bg-white\/15 {
  background: var(--active-bg);
}

html.light .border-white\/10 {
  border-color: var(--card-border);
}

/* Light mode inputs */
html.light .placeholder-white\/40::placeholder {
  color: rgba(var(--foreground-muted), 0.4);
}

html.light input,
html.light textarea {
  color: rgb(var(--foreground));
}

/* Light mode overlay */
html.light .bg-black\/50 {
  background: rgba(0, 0, 0, 0.3);
}
